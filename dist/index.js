import{h as e}from"snabbdom";import{DomEditor as a}from"@wangeditor/editor";var n={editorPlugin:function(e){e.insertText;var n=e.isInline,s=e.isVoid,o=e;return o.isInline=function(e){return"quoteMessage"===a.getNodeType(e)||n(e)},o.isVoid=function(e){return"quoteMessage"===a.getNodeType(e)||s(e)},o},renderElems:[{type:"quoteMessage",renderElem:function(a,n,s){var o,t=a||{};t.src;var l,i=t.name,p=void 0===i?"":i,r=t.info,d=void 0===r?{}:r,c=e("p",{style:{fontSize:"14px",fontWeight:"bold",margin:"0",color:"#5A5A5A"}},[p]);if(0===d.type){for(var g=d.messageInfo.replace(/<img[^>]*>/g,"[图片]").replace(/<a\b[^>]*>(.*?)<\/a>/g,"<span>$1</span>"),f=/<p[^>]*>(.*?)<\/p>/g,m=[],u=void 0;null!==(u=f.exec(g));)m.push(u[1]);var v=m.map((function(e){return e.replace(/<span.*?>[图片]<\/span>/g,"[图片]").replace("&nbsp;","")}));v=v.map((function(e){return e.replace(/<span[^>]*>/g,"").replace(/<[</span>$]+>/g,"")}));var w=e("p",{style:{margin:"0",textWrap:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},[v[0]]),x=v[1]?e("p",{style:{margin:"0",textWrap:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},[v[1]]):null;l=x?[c,w,x]:[c,w]}else{l=[c,w=e("p",{style:{margin:"0",textWrap:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},[d.messageInfo])]}return e("span",{props:{contentEditable:!1},style:{width:"99%",display:"inline-block",borderLeft:"4px solid #c0cfde",color:"#7b7b7b",marginLeft:"3px",marginRight:"3px",backgroundColor:"#f7f7f8",borderRadius:"3px",padding:"4px 8px",userSelect:"none"},attrs:(o={},o["message-id"]=d.messageId,o)},l)}}],parseElemsHtml:[{selector:'span[data-w-e-type="quoteMessage"]',parseElemHtml:function(e,a,n){return{type:"quoteMessage",children:[{text:""}]}}}],elemsToHtml:[{type:"quoteMessage",elemToHtml:function(e,a){var n,s=e,o=s.name,t=void 0===o?"":o,l=s.info,i=void 0===l?{}:l;if(0===i.type){for(var p=i.messageInfo.replace(/<img[^>]*>/g,"[图片]").replace(/<a\b[^>]*>(.*?)<\/a>/g,"<span>$1</span>"),r=/<p[^>]*>(.*?)<\/p>/g,d=[],c=void 0;null!==(c=r.exec(p));)d.push(c[1]);var g=d.map((function(e){return e.replace(/<span.*?>[图片]<\/span>/g,"[图片]")}));g=g.map((function(e){return e.replace(/<span[^>]*>/g,"").replace(/<[</span>$]+>/g,"")})),n='\n            <span data-w-e-type="quoemessage" data-w-e-is-void data-w-e-is-inline message-id="'.concat(i.messageId,'"" class="quoteClass">\n            <span style="font-size:14px;font-weight: bold;line-height: 16px;display: block;color:#5A5A5A; margin-bottom: 10px">').concat(t,'</span>\n            <span style="display: block;margin: 0;white-space: normal;line-height: 22px;text-overflow: ellipsis;overflow: hidden;color: #8F959E;">').concat(g[0],"</span>\n            ").concat(g[1]?'<span style="line-height: 1.5;display: block;display: block;margin: 0;textWrap: nowrap;textOverflow: ellipsis;overflow: hidden;color: #8F959E;">'.concat(g[1],"</span>"):"","\n            </span>\n        ")}else n='\n            <span data-w-e-type="quoemessage" data-w-e-is-void data-w-e-is-inline message-id="'.concat(i.messageId,'"" class="quoteClass">\n            <span style="font-size:14px;font-weight: bold;line-height: 16px;display: block;color:#5A5A5A;">').concat(t,'</span>\n            <span style="display: block;display: block;margin: 0;textWrap: nowrap;textOverflow: ellipsis;overflow: hidden;color: #8F959E;">').concat(i.messageInfo,"</span>\n            </span>\n         ");return n}}]};export{n as default};
